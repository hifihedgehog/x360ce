<UserControl
	x:Class="x360ce.App.Controls.PadListControl"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:converters="clr-namespace:x360ce.App.Converters"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:engine="clr-namespace:x360ce.Engine;assembly=x360ce.Engine"
	xmlns:local="clr-namespace:x360ce.App.Controls"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	d:Height="600"
	d:Width="270"
	Loaded="UserControl_Loaded"
	Unloaded="UserControl_Unloaded"
	mc:Ignorable="d">

	<!--  Buttons and Axes  -->
	<TabControl Width="280" Margin="3,3,0,0">
		<TabItem>
			<TabItem.Header>
				<StackPanel Orientation="Horizontal">
					<ContentControl
						Name="NormalTab"
						Margin="0,0,3,0"
						Content="{StaticResource Icon_gamepad}" />
					<TextBlock Text="CONTROLLERS" />
				</StackPanel>
			</TabItem.Header>
			<ScrollViewer VerticalScrollBarVisibility="Auto">
				<Grid VerticalAlignment="Stretch">
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="*" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>
					<!--  Help  -->
					<Border
						Margin="3,3,3,0"
						Padding="3,3,3,4"
						Style="{StaticResource BorderDescriptionNormal}">
						<Label HorizontalAlignment="Center">STEP 2 - Add and select device to configure.</Label>
					</Border>
					<!--  Buttons  -->
					<StackPanel
						Grid.Row="1"
						Margin="6,0,3,0"
						Orientation="Horizontal">
						<Button
							Name="AddButton"
							Margin="0,3,3,3"
							Click="AddButton_Click">
							<StackPanel>
								<ContentControl Content="{StaticResource Icon_add}" />
								<Label Content="Add..." />
							</StackPanel>
						</Button>
						<Button
							Name="RemoveButton"
							Margin="0,3,3,3"
							Click="RemoveButton_Click">
							<StackPanel>
								<ContentControl Content="{StaticResource Icon_remove}" />
								<Label Content="Remove" />
							</StackPanel>
						</Button>
						<Button
							Name="RefreshButton"
							Margin="0,3,0,3"
							Click="RefreshButton_Click">
							<StackPanel>
								<ContentControl Content="{StaticResource Icon_Refresh}" />
								<Label Content="Refresh" />
							</StackPanel>
						</Button>
					</StackPanel>
					<!--  Controller List  -->
					<DataGrid
						Name="DevicesDataGrid"
						Grid.Row="2"
						AutoGenerateColumns="False"
						IsReadOnly="True"
						ScrollViewer.CanContentScroll="True"
						ScrollViewer.HorizontalScrollBarVisibility="Auto"
						ScrollViewer.VerticalScrollBarVisibility="Auto"
						SelectionChanged="MainDataGrid_SelectionChanged"
						SelectionMode="Single">
						<DataGrid.Resources>
							<!--<converters:ChecksumToIdConverter x:Key="_ChecksumToIdConverter" />-->
							<converters:MapToIntToDescription x:Key="_MapToIntToDescription" />
							<converters:BoolToImageSourceConverter x:Key="BoolToImageSourceConverter" />
							<converters:ConnectionClassToImageConverter x:Key="ConnectionClassToImageConverter" />
							<!--<converters:ItemFormattingConverter x:Key="_MainDataGridFormattingConverter" />-->
							<Style BasedOn="{StaticResource DataGridColumnHeader_Default}" TargetType="DataGridColumnHeader">
								<Setter Property="Padding" Value="3,0,0,0" />
								<!--  Change these numbers for desired padding  -->
							</Style>
						</DataGrid.Resources>

						<!--  Cell - Rows of ofline controllers are transparent.  -->
						<DataGrid.CellStyle>
							<Style BasedOn="{StaticResource DataGridCell_Default}" TargetType="DataGridCell">

								<Style.Triggers>
									<DataTrigger Binding="{Binding IsOnline}" Value="False">
										<Setter Property="Opacity" Value="0.2" />
										<!--<Setter Property="IsHitTestVisible" Value="False" />-->
									</DataTrigger>
									<DataTrigger Binding="{Binding IsOnline}" Value="True">
										<Setter Property="Opacity" Value="1" />
										<!--<Setter Property="IsHitTestVisible" Value="True" />-->
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</DataGrid.CellStyle>

						<DataGrid.Columns>
							<!--  Enabled  -->
							<DataGridCheckBoxColumn
								x:Name="IsEnabledColumn"
								Width="25"
								Binding="{Binding IsEnabled, IsAsync=True, Mode=TwoWay}"
								EditingElementStyle="{StaticResource CheckBoxCell_Default}"
								ElementStyle="{StaticResource CheckBoxCell_Default}"
								Header="On" />

							<DataGridTextColumn
								Width="*"
								Binding="{Binding ProductName}"
								EditingElementStyle="{StaticResource TextBoxCell}"
								ElementStyle="{StaticResource TextBlockCell}"
								Header="Device" />

						</DataGrid.Columns>
					</DataGrid>

					<!--  Check-boxes  -->
					<StackPanel Grid.Row="3" Margin="3">
						<CheckBox
							Name="EnabledCheckBox"
							Click="EnabledCheckBox_Click"
							Content="Enabled" />
						<CheckBox
							Name="UseXInputStateCheckBox"
							Click="UseXInputStateCheckBox_Click"
							Content="Use XInput State" />
						<CheckBox
							Name="AutoMapCheckBox"
							Click="AutoMapCheckBox_Click"
							Content="Auto Map" />
					</StackPanel>

					<GroupBox
						Grid.Row="4"
						Margin="3,-3,2,3"
						Header="Selected Device">
						<StackPanel Name="DeviceDetails">
							<!--  DataContext="{Binding SelectedDevice, ElementName=PadListControl}"  -->

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>

                                <!--Input-->
                                <ListBox Grid.ColumnSpan="2" Name="InputMethodListBox" Margin="0,0,0,5"
								         SelectionChanged="InputMethodComboBox_SelectionChanged"
								         SelectionMode="Single">
                                    <ListBoxItem Name="DirectInputItem" Content="DirectInput - Default (most compatible)" Tag="{x:Static engine:InputMethod.DirectInput}" />
                                    <ListBoxItem Name="XInputItem" Content="XInput" Tag="{x:Static engine:InputMethod.XInput}" />
                                    <ListBoxItem Name="GamingInputItem" Content="GamingInput" Tag="{x:Static engine:InputMethod.GamingInput}" />
                                    <ListBoxItem Name="RawInputItem" Content="RawInput - Advanced (with background access)" Tag="{x:Static engine:InputMethod.RawInput}" />
                                </ListBox>
								<!--Vendor-->
                                <Label Grid.Row="2" Content="Vendor" />
                                <Label Grid.Row="2" Grid.Column="1" Name="VendorName" Opacity="0.5" />
                                <!--Product-->
                                <Label Grid.Row="3" Content="Product" />
								<Label Grid.Row="3" Grid.Column="1" Name="ProductName" Opacity="0.5" />
                                <!--Instance-->
                                <Label Grid.Row="4" Content="Instance" />
								<Label Grid.Row="4" Grid.Column="1" Name="InstanceId" Opacity="0.5" />
                                <!--Instance-->
                                <Label Grid.Row="5" Content="SID" />
								<Label Grid.Row="5" Grid.Column="1" Name="PadSettingChecksum" Opacity="0.5" />
                                <!--Connection-->
                                <Label Grid.Row="6" Content="Connection" />
							    <Label Grid.Row="6" Grid.Column="1" Name="ConnectionClassName" Opacity="0.5" />
                                <!--Completion-->
                                <Label Grid.Row="7" Content="Completion" />
                                <Label Grid.Row="7" Grid.Column="1" Name="Completion" Opacity="0.5" />
                            </Grid>
						</StackPanel>
					</GroupBox>
				</Grid>
			</ScrollViewer>
		</TabItem>
	</TabControl>

</UserControl>
